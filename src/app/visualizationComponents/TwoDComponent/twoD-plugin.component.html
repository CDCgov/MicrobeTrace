

<span id="tooltip" style="background-color: white;"></span>

<div id="tool-btn-container" class="m-portlet">
    <span style="overflow: visible; position: relative; width: 110px;">
        <a title="Settings" class="btn btn-sm btn-clean btn-icon btn-icon-md" style="float:left" (click)="openSettings()"><i class="flaticon-settings primary"></i></a>
    </span>
    <span style="overflow: visible; position: relative; width: 110px;">
        <a title="Export Screen" class="btn btn-sm btn-clean btn-icon btn-icon-md" style="float:left" (click)="openExport()"><i class="flaticon-download primary"></i></a>
    </span>
    <span style="overflow: visible; position: relative; width: 110px;">
        <a title="Center Screen" class="btn btn-sm btn-clean btn-icon btn-icon-md" style="float:left" (click)="openCenter()"><i class="flaticon-eye primary"></i></a>
    </span>
    <!-- Add this back in if we decide to use forces again to allow pinning nodes
     <span style="overflow: visible; position: relative; width: 110px;">
        <a #pinbutton title="Pin All Nodes" id="pinbutton" class="btn btn-sm btn-clean btn-icon btn-icon-md" style="float:left" (click)="openPinAllNodes()"
            [style.background]="commonService.session.network.allPinned ? 'lightblue': 'transparent'"
        ><i class="flaticon-pin primary"></i></a>
    </span> -->
</div>

<!-- <div #cy id="cy" style="width: 100%; height: 100%;"></div> -->

<div #exportContainer class="cytoscape-container" style="position: relative;">
    <div #cy id="cy" style="width: 100%; height: 100%; position: relative;"></div>
    <div class="grid-overlay" [class.hidden]="!widgets['network-gridlines-show']"></div>
    
    <!-- Static Watermark (Optional) -->
    <div id="watermark" class="watermark"></div>
    <div id="network-statistics-wrapper">
      <div id="network-statistics-draghandle"><span class="oi oi-move"></span></div>
      <table #networkStats id="network-statistics-table">
          <tr>
              <td class="text-right">
                  <span id="numberOfNodes"></span>
                  (<span id="numberOfSelectedNodes"></span>)
              </td>
              <td>Nodes (Selected)</td>
          </tr>
          <tr>
              <td id="numberOfVisibleLinks" class="text-right"></td>
              <td>Links</td>
          </tr>
          <tr>
              <td id="numberOfDisjointComponents" class="text-right"></td>
              <td>Clusters</td>
          </tr>
          <tr>
              <td id="numberOfSingletonNodes" class="text-right"></td>
              <td>Singletons</td>
          </tr>
      </table>
  </div>
</div>


<div class="m-content" *ngIf="IsDataAvailable == false">
    <div id="file-panel" class="container-fluid" style="height:500px;">
        <div id="file-prompt" class="d-flex justify-content-center">
            <h1><b>Please add data files to load...</b></h1>
            <br />
        </div>
    </div>
</div>


<div class="view-controls">
    <p-dialog *ngIf="viewActive" id="network-settings-pane" 
                [(visible)]="Node2DNetworkExportDialogSettings.isVisible"  
                header="2D Network Settings" appendTo="body"
                >
        <tabset class="tab-container tabbable-line">
            <tab heading="{{'Nodes' | localize}}" [active]="true" customClass="m-tabs__item">
                <p-accordion>
                    <p-accordionTab [selected]="false" style="color:#495057" header="Labels and Tooltips">
                        <div #nodecontrolslabels>
                            <div class="form-group row" title="What field should be displayed as a label for the node?">
                                <div class="col-4"><label for="node-label-variable">Label</label></div>
                                <div class="col-8">
                                    <p-dropdown id="node-label-variable" [options]="FieldList" appendTo="body" [(ngModel)]="SelectedNodeLabelVariable" (ngModelChange)="onNodeLabelVaribleChange($event)"></p-dropdown>
                                </div>
                            </div>
                            <div class="form-group row node-label-row" title="How big should node labels be?">
                                <div class="col-4"><label for="node-label-size">Label Size</label></div>
                                <div class="col-8"><input type="range" class="custom-range" id="node-label-size" min="6" value="16" max="72" [(ngModel)]="SelectedNodeLabelSizeVariable" (change)="onNodeLabelSizeChange($event)"></div>
                            </div>
                            <div class="form-group row" title="What node data should be displayed as a tooltip for the node?">
                                <div class="col-4">
                                    <label for="node-tooltip-variable">Tooltip</label>
                                </div>
                                <div class="col-8">
                                    <p-multiSelect [options]="commonService.session.data['nodeFields']" appendTo="body" [showToggleAll]=false [showHeader]=false [style]="{'max-width': '100%'}"
                                    [(ngModel)]="commonService.session.style.widgets['node-tooltip-variable']" (onChange)="onNodeTooltipVariableChange($event.value)"
                                    ></p-multiSelect>
                                </div>
                            </div>
                        </div>
                    </p-accordionTab>

                    <p-accordionTab style="color:#495057" header="Shapes and Sizes">
                        <div #nodecontrolsshapes>
                            <div class="form-group row" title="Which variable should determine the shape of the node?">
                                <div class="col-4">
                                    <label for="node-symbol-variable">Shape By</label>
                                </div>
                                <div class="col-8">
                                    <p-dropdown id="node-symbol-variable" [options]="FieldList" appendTo="body" [(ngModel)]="SelectedNodeSymbolVariable" (ngModelChange)="onNodeSymbolVariableChange($event)"></p-dropdown>
                                </div>
                            </div>
                            <div id="node-symbol-table-row" [hidden]="!ShowNodeSymbolTable" class="form-group row" title="What shape should the nodes be?">
                                <div class="col-4">Table</div>
                                <div class="col-8">
                                    <p-selectButton [options]="TableTypes" [(ngModel)]="SelectedNetworkTableTypeVariable" (ngModelChange)="onNodeSymbolTableChange($event)"></p-selectButton>
                                </div>
                            </div>

                            <div id="node-symbol-row" [hidden]="ShowNodeSymbolWrapper" class="form-group row" title="What shape should the nodes be?">
                                <div class="col-4"><label for="node-symbol">Shape</label></div>
                                <div class="col-8">
                                    <select id="node-symbol" class="form-control form-control-sm" [(ngModel)]="selectedNodeShape" (ngModelChange)="onNodeShapeChange($event)">
                                        <option value="ellipse" selected>&nbsp;&#11044; (Circle)</option>
                                        <option value="rectangle">&nbsp;&#9632; (Square)</option>
                                        <option value="hexagon">&nbsp;&#11042; (Hexagon)</option>
                                        <option value="triangle">&nbsp;&#9650; (Triangle)</option>
                                        <option value="barrel">&nbsp;&#10731; (Barrel)</option>
                                        <option value="pentagon">&nbsp;&#11039; (Pentagon)</option>
                                        <option value="octagon">&nbsp;&#11042; (Octagon)</option>
                                        <option value="star">&nbsp;&#9733; (Star)</option>
                                        <option value="tag">&nbsp;&#120300; (Tag)</option>
                                        <option value="vee">&nbsp;&#120300; (Vee)</option>
                                    </select>
                                        <!-- <option value="symbolCircle" selected>&nbsp;&#11044; (Circle)</option>
                                        <option value="symbolTriangle">&nbsp;&#9650; (Up Triangle)</option>
                                        <option value="symbolTriangleDown">&nbsp;&#9660; (Down Triangle)</option>
                                        <option value="symbolTriangleLeft">&nbsp;&#9664; (Left Triangle)</option>
                                        <option value="symbolTriangleRight">&nbsp;&#9654; (Right Triangle)</option>
                                        <option value="symbolDiamond">&nbsp;&#10731; (Vertical Diamond)</option>
                                        <option value="symbolDiamondAlt">&nbsp;&#10731; (Horizontal Diamond)</option>
                                        <option value="symbolSquare">&nbsp;&#9632; (Square)</option>
                                        <option value="symbolDiamondSquare">&nbsp;&#9670; (Tilted Square)</option>
                                        <option value="symbolPentagon">&nbsp;&#11039; (Pentagon)</option>
                                        <option value="symbolHexagon">&nbsp;&#11042; (Hexagon)</option>
                                        <option value="symbolHexagonAlt">&nbsp;&#11043; (Tilted Hexagon)</option>
                                        <option value="symbolOctagon">&nbsp;&#11042; (Octagon)</option>
                                        <option value="symbolOctagonAlt">&nbsp;&#11043; (Tilted Octagon)</option>
                                        <option value="symbolCross">&nbsp;&#10010; (Addition Sign)</option>
                                        <option value="symbolX">&nbsp;&#10006; (Multiplication Sign)</option>
                                        <option value="symbolWye">&nbsp;&#120300; (Wye)</option>
                                        <option value="symbolStar">&nbsp;&#9733; (Star)</option> -->
                                    <!-- </select> -->
                                </div>
                            </div>

                            <div class="form-group row" title="Which variable should determine the size of the node?">
                                <div class="col-4"><label for="node-radius-variable">Size By</label></div>
                                <div class="col-8">
                                    <p-dropdown id="node-radius-variable" [options]="FieldList" appendTo="body" [(ngModel)]="SelectedNodeRadiusVariable" (ngModelChange)="onNodeRadiusVariableChange($event)"></p-dropdown>
                                </div>
                            </div>
                            <div id="node-max-radius-row" class="form-group row" title="Should node max radius to this variable?">
                                <div class="col-4"><label for="node-radius-max">Max Size</label></div>
                                <div class="col-8">
                                    <input type="range" class="custom-range" id="node-radius-max" min="20" value="25" step="1" max="100" [(ngModel)]="widgets['node-radius-max']" (ngModelChange)="onNodeRadiusMaxChange($event)">
                                </div>
                              </div>
                              <div id="node-min-radius-row" class="form-group row" title="Should node min radius to this variable?">
                                <div class="col-4"><label for="node-radius-min">Min Size</label></div>
                                <div class="col-8">
                                    <input type="range" class="custom-range" id="node-radius-min" min="5" value="10" step="1" max="55" [(ngModel)]="widgets['node-radius-min']" (ngModelChange)="onNodeRadiusMinChange($event)">
                                </div>
                            </div>
                            <div id="node-radius-row" class="form-group row" title="How big should the nodes be?">
                                <div class="col-4"><label for="node-radius">Size</label></div>
                                <div class="col-8">
                                    <input type="range" class="custom-range" id="node-radius" min="0" value="50" step="1" max="100" [(ngModel)]="SelectedNodeRadiusSizeVariable" (ngModelChange)="onNodeRadiusChange($event)">
                                </div>
                            </div>

                            <div class="form-group row" title="What should the width of the node border be?">
                                <div class="col-4"><label for="node-radius-variable">Border Width</label></div>
                                <div class="col-8">
                                    <input type="number" class="form-control form-control-sm" id="node-border-width" min="0" step="0.5" value="2" [(ngModel)]="nodeBorderWidth" (ngModelChange)="onNodeBorderWidthChange($event)">
                                </div>
                            </div>

                        </div>
                    </p-accordionTab>

                    <p-accordionTab style="color:#495057" [selected]="false" header="Colors">
                        <button pButton type="button" label="Show Colors" class="ui-button-raised" (click)="showGlobalSettings()"></button>
                    </p-accordionTab>

                </p-accordion>
            </tab>

            <tab heading="{{'Links' | localize}}" customClass="m-tabs__item">
                <p-accordion>
                    <p-accordionTab style="color:#495057" header="Labels and Tooltips">
                        <div #linkcontrolslabels>
                            <div class="form-group row" title="What data should be displayed when you hover over a link?">
                                <div class="col-4"><label for="link-tooltip-variable">Tooltip</label></div>
                                <div class="col-8">
                                    <p-multiSelect [options]="LinkToolTipList" appendTo="body" [showToggleAll]=false [showHeader]=false [style]="{'max-width': '100%'}"
                                    [(ngModel)]="commonService.session.style.widgets['link-tooltip-variable']" (onChange)="onLinkTooltipVariableChange($event.value)"
                                    ></p-multiSelect>
                                    <!--mat-select multiple [(value)]="commonService.session.style.widgets['link-tooltip-variable']" (valueChange)="onLinkTooltipVariableChange($event)">
                                        <mat-option *ngFor="let option of LinkToolTipList" [value]="option.value">
                                          {{option.label}}
                                        </mat-option>
                                      </mat-select-->
                                </div>
                            </div>
                            <div class="form-group row" title="What data should be displayed when you hover over a link?">
                                <div class="col-4"><label for="link-label-variable">Label</label></div>
                                <div class="col-8">
                                    <p-dropdown id="link-label-variable" [options]="ToolTipFieldList" appendTo="body" [(ngModel)]="SelectedLinkLabelVariable" (ngModelChange)="onLinkLabelVariableChange($event)"></p-dropdown>
                                </div>
                            </div>
                            <div class="form-group row" title="How many decimals should the number labels have?">
                                <div class="col-4"><label for="link-label-decimal-length">Decimal Length</label></div>
                                <div class="col-8"><input type="number" class="form-control form-control-sm" id="link-label-decimal-length" min="0" step="1" max="6" value="3"  [(ngModel)]="SelectedLinkDecimalVariable"  (ngModelChange)="onLinkDecimalVariableChange($event)">
                                </div>
                              </div>  
                        </div>
                    </p-accordionTab>

                    <p-accordionTab style="color:#495057" header="Shapes and Sizes">
                        <div #linkcontrolsshapes>
                            <div id="link-transparency-row" class="form-group row" title="How transparent should the links be?">
                                <div class="col-4"><label for="link-opacity">Transparency</label></div>
                                <div class="col-8"><input type="range" class="custom-range" id="link-opacity" min="0" max="1" value="0" step="0.01" [(ngModel)]="SelectedLinkTransparencyVariable" (ngModelChange)="onLinkOpacityChange($event)"></div>
                            </div>
                            <div class="form-group row" title="Which variable should determine the width of a link?">
                                <div class="col-4"><label for="link-width-variable">Width By</label></div>
                                <div class="col-8">
                                    <p-dropdown id="link-width-variable" [options]="ToolTipFieldList" appendTo="body" [(ngModel)]="SelectedLinkWidthByVariable" (ngModelChange)="onLinkWidthVariableChange($event)"></p-dropdown>
                                </div>
                            </div>
                            <div id="link-max-width-row" class="form-group row display-none" title="Should link max widths to this variable?">
                                <div class="col-4"><label for="link-width-max">Max Width</label></div>
                                <div class="col-8"><input type="range" class="custom-range" id="link-width-max" min="0.3" max="20" step=".3" value="8" [(ngModel)]="SelectedLinkWidthMax" (ngModelChange)="onLinkWidthMaxChange($event)"></div>
                              </div>
                              <div id="link-min-width-row" class="form-group row display-none" title="Should link min widths to this variable?">
                                <div class="col-4"><label for="link-width-min">Min Width</label></div>
                                <div class="col-8"><input type="range" class="custom-range" id="link-width-min" min="0.3" max="20" step=".3" value="3" [(ngModel)]="SelectedLinkWidthMin" (ngModelChange)="onLinkWidthMinChange($event)"></div>
                              </div>
                            <div id="link-reciprocalthickness-row" class="form-group row display-none" title="Should link widths be proportioned to the reciprocal of this variable?">
                                <div class="col-4">Reciprocal</div>
                                <div class="col-8">
                                    <p-selectButton id="link-width-reciprocal-non-reciprocal" appendTo="body"  [options]="ReciprocalTypes" [(ngModel)]="SelectedLinkReciprocalTypeVariable" (ngModelChange)="onLinkWidthReciprocalNonReciprocalChange($event)"></p-selectButton>
                                </div>
                            </div>
                            <div class="form-group row" id="link-width-row" title="How thick should the links be?">
                                <div class="col-4"><label for="link-width">Width</label></div>
                                <div class="col-8"><input type="range" class="custom-range" id="link-width" min="0.3" max="30" step=".3" value="3" [(ngModel)]="SelectedLinkWidthVariable" (ngModelChange)="onLinkWidthChange($event)"></div>
                            </div>
                            <!-- TODO Add back in if we figure out link length 
                            <div class="form-group row" title="How long should links be?">
                                <div class="col-4"><label for="link-length">Length</label></div>
                                <div class="col-8"><input type="range" class="custom-range" id="link-length" min="0" max="200" value="50" [(ngModel)]="SelectedLinkLengthVariable" (ngModelChange)="onLinkLengthChange($event)"></div>
                            </div> -->
                            <div class="form-group row hideForHIVTrace" title="Shoul arrowheads pointing to the">
                                <div class="col-4">Arrows</div>
                                <div class="col-8">
                                    <p-selectButton id="link-directed-undirected" [options]="ArrowTypes" [(ngModel)]="SelectedLinkArrowTypeVariable" (ngModelChange)="onLinkDirectedUndirectedChange($event)"></p-selectButton>
                                </div>
                            </div>
                            <div id="link-bidirectional-row" class="form-group row display-none" title="Should links be bidirectional?">
                                <div class="col-4">Bidirectional</div>
                                <div class="col-8">
                                    <p-selectButton id="link-bidirectional" [options]="bidirectionalOptions" [(ngModel)]="SelectedLinkBidirectionalTypeVariable" (ngModelChange)="onLinkBidirectionalChange($event)"></p-selectButton>
                                </div>
                            </div>
                        </div>
                    </p-accordionTab>


                    <p-accordionTab style="color:#495057" header="Colors">
                        <button pButton type="button" label="Show Colors" class="ui-button-raised" (click)="showGlobalSettings()"></button>
                    </p-accordionTab>

                </p-accordion>
            </tab>

            <tab heading="{{'Network' | localize}}" customClass="m-tabs__item">
                <p-accordion>
                    <p-accordionTab style="color:#495057" header="Display">
                        <div #networkcontrolslabels>
                            <div class="form-group row" title="Should MicrobeTrace Highlight a node's neighbors when you hover on it?">
                                <div class="col-4">Neighbors</div>
                                <div class="col-8">
                                    <p-selectButton id="dont-highlight-neighbors-highlight-neighbors" [options]="NeighborTypes" [(ngModel)]="SelectedNetworkNeighborTypeVariable" (ngModelChange)="onDontHighlightNeighborsHighlightNeighborsChange($event)"></p-selectButton>
                                </div>
                            </div>
                            <div class="form-group row" title="Should MicrobeTrace Highlight a node's neighbors when you hover on it?">
                                <div class="col-4">Gridlines</div>
                                <div class="col-8">
                                    <p-selectButton id="network-gridlines-show-hide" [options]="GridLineTypes" [(ngModel)]="SelectedNetworkGridLineTypeVariable" (ngModelChange)="onNetworkGridlinesShowHideChange($event)"></p-selectButton>
                                </div>
                            </div>
                        </div>
                    </p-accordionTab>                 
                </p-accordion>
            </tab>
            <tab heading="{{'Polygons' | localize}}" customClass="m-tabs__item">
                <p-accordion>
                    <p-accordionTab style="color:#495057" header="Polygon Controls" id="polygons-controls-accordion">
                          <div id="polygons-controls" class="show" data-parent="#polygons-controls-accordion">
                            <div class="card-body">
                              <div class="form-group row" title="Show polygons?">
                                <div class="col-4">Polygons</div>
                                <div class="col-8">
                                    <p-selectButton id="colorPolygonsTable" [options]="hideShowOptions" [(ngModel)]="commonService.session.style.widgets['polygons-show']" (ngModelChange)="polygonsToggle($event)"></p-selectButton>
                                </div>
                              </div>
                              <div *ngIf="commonService.session.style.widgets['polygons-show']" class="form-group row polygons-settings-row" title="What Foci should be used when creating convex hulls?">
                                <div class="col-4"><label for="polygons-foci">Group By</label></div>
                                <div class="col-8">
                                    <p-dropdown id="polygons-foci" [options]="FieldList" appendTo="body" [(ngModel)]="commonService.session.style.widgets['polygons-foci']" (ngModelChange)="centerPolygons($event)"></p-dropdown>
                                </div>
                              </div>
                            </div>
                          </div>
                    </p-accordionTab>
                    <p-accordionTab *ngIf="commonService.session.style.widgets['polygons-show']" style="color:#495057" header="Labels" id="polygons-controls-accordion">
                          <div id="polygons-controls-labels" data-parent="#polygons-controls-accordion">
                            <div class="card-body">
                              <div class="form-group row" title="Show polygons label?">
                                <div class="col-4">Label Polygons</div>
                                <div class="col-8">
                                    <p-selectButton id="polygons-label-visibility" [options]="hideShowOptions" [(ngModel)]="commonService.session.style.widgets['polygons-label-show']" (ngModelChange)="onPolygonLabelShowChange($event)"></p-selectButton>
                                </div>
                              </div>
                              <div class="form-group row polygons-label-row" title="How big should polygon labels be?">
                                <div class="col-4"><label for="polygons-label-size">Label Size</label></div>
                                <div class="col-8">
                                    <input type="range" class="custom-range" id="polygons-label-size" min="6" value="16" step="1" max="72" [(ngModel)]="commonService.session.style.widgets['polygons-label-size']" (ngModelChange)="onPolygonLabelSizeChange($event)">
                                </div>
                              </div>
                              <div class="form-group row polygons-label-row" title="How should the labels be oriented relative to center of polygon?">
                                <div class="col-4"><label for="polygon-label-orientation">Orientation</label></div>
                                <div class="col-8">
                                    <select id="polygon-label-orientation" [(ngModel)]="SelectedPolygonLabelOrientationVariable" (ngModelChange)="onPolygonLabelOrientationChange($event)">
                                        <option selected>top</option>
                                        <option>middle</option>
                                        <option>bottom</option>
                                    </select>                                
                                </div>
                              </div>
                            </div>
                          </div>
                        </p-accordionTab>
                        <!-- style="display: none;" -->
                        <p-accordionTab *ngIf="commonService.session.style.widgets['polygons-show']" style="color:#495057" header="Colors" id="polygons-controls-accordion">  
                          <div id="polygons-controls-colors" data-parent="#polygons-controls-accordion">
                            <div class="card-body">
                              <div id="color-polygons" class="form-group row" title="Show polygons colored?">
                                <div class="col-4">Color Polygons</div>
                                <div class="col-8">
                                    <p-selectButton id="colorPolygons" [options]="hideShowOptions" [(ngModel)]="commonService.session.style.widgets['polygons-color-show']" (ngModelChange)="polygonColorsToggle($event)"></p-selectButton>
                                </div>
                              </div>
                              <div *ngIf="commonService.session.style.widgets['polygons-color-show']" id="polygon-color-table-row" class="form-group row" title="Should MicrobeTrace display the table of colors?">
                                <div class="col-4">Polygon Color Table</div>
                                <div class="col-8">
                                    <p-selectButton id="colorPolygonsTable" [options]="hideShowOptions" [(ngModel)]="commonService.session.style.widgets['polygon-color-table-visible']" (ngModelChange)="polygonColorsTableToggle($event)"></p-selectButton>
                                </div>
                              </div>
                              <div *ngIf="!commonService.session.style.widgets['polygons-color-show']" id="polygon-color-value-row" class="form-group row" title="What color should the polygons be?">
                                <div class="col-4"><label for="polygon-color">Polygons</label></div>
                                <div class="col-8">
                                  <input type="color" id="polygon-color" class="form-control form-control-sm" value="#1f77b4" [(ngModel)]="commonService.session.style.widgets['polygon-color']" (ngModelChange)="onPolygonColorChanged($event)">
                                </div>
                              </div>              
                            </div>
                          </div>
                    </p-accordionTab>
                </p-accordion>
            </tab>
        </tabset>

    </p-dialog>



</div>

    <p-dialog id="node-symbol-table-wrapper" 
                [position]="NodeSymbolTableWrapperDialogSettings.shapeRight"
                [(visible)]="NodeSymbolTableWrapperDialogSettings.isVisible"  
                header="Node Symbol Selection Table"  
                [style]="{width: '45vw', maxWidth: '450px'}"
                (onHide)="onNodeSymbolTableChange('Hide')"
                (onShow)="onNodeSymbolTableChange('Show')"
                >
        <div class="col-12" style="width:100%;max-height:50vh;" title="Node Shapes and Size Selection.">          
             <table #nodeSymbolTable id="node-symbol-table" style="width:100%;height:100%;"></table>          
        </div>
    
<!--         
            <option value="symbolCircle" selected>&nbsp;&#11044; (Circle)</option>
            <option value="symbolTriangle">&nbsp;&#9650; (Up Triangle)</option>
            <option value="symbolTriangleDown">&nbsp;&#9660; (Down Triangle)</option>
            <option value="symbolTriangleLeft">&nbsp;&#9664; (Left Triangle)</option>
            <option value="symbolTriangleRight">&nbsp;&#9654; (Right Triangle)</option>
            <option value="symbolDiamond">&nbsp;&#10731; (Vertical Diamond)</option>
            <option value="symbolDiamondAlt">&nbsp;&#10731; (Horizontal Diamond)</option>
            <option value="symbolSquare">&nbsp;&#9632; (Square)</option>
            <option value="symbolDiamondSquare">&nbsp;&#9670; (Tilted Square)</option>
            <option value="symbolPentagon">&nbsp;&#11039; (Pentagon)</option>
            <option value="symbolHexagon">&nbsp;&#11042; (Hexagon)</option>
            <option value="symbolHexagonAlt">&nbsp;&#11043; (Tilted Hexagon)</option>
            <option value="symbolOctagon">&nbsp;&#11042; (Octagon)</option>
            <option value="symbolOctagonAlt">&nbsp;&#11043; (Tilted Octagon)</option>
            <option value="symbolCross">&nbsp;&#10010; (Addition Sign)</option>
            <option value="symbolX">&nbsp;&#10006; (Multiplication Sign)</option>
            <option value="symbolWye">&nbsp;&#120300; (Wye)</option>
            <option value="symbolStar">&nbsp;&#9733; (Star)</option>
        </select> -->

    </p-dialog>

    <p-dialog id="polygon-color-table-wrapper" 
                [position]="PolygonColorTableWrapperDialogSettings.polygonRight" 
                [(visible)]="PolygonColorTableWrapperDialogSettings.isVisible"  
                header="Group Color Selection Table" 
                [style]="{width: '45vw', maxWidth: '450px'}" 
                (onHide)="onPolygonColorTableChange(false)"
                (onShow)="onPolygonColorTableChange(true)"
                >
        <div class="col-12" style="width:100%;max-height:50vh;" title="Group Color Selection.">          
             <table #polygonColorTable id="polygon-color-table" style="width:100%;height:100%;"></table>          
        </div>
        <select id="polygon-color2" [hidden]="'true'" class="form-control form-control-sm">

            <option value="symbolCircle" selected>&nbsp;&#11044; (Circle)</option>
            <option value="symbolTriangle">&nbsp;&#9650; (Up Triangle)</option>
            <!-- <option value="symbolTriangleDown">&nbsp;&#9660; (Down Triangle)</option>
            <option value="symbolTriangleLeft">&nbsp;&#9664; (Left Triangle)</option>
            <option value="symbolTriangleRight">&nbsp;&#9654; (Right Triangle)</option>
            <option value="symbolDiamond">&nbsp;&#10731; (Vertical Diamond)</option>
            <option value="symbolDiamondAlt">&nbsp;&#10731; (Horizontal Diamond)</option> -->
            <option value="symbolSquare">&nbsp;&#9632; (Square)</option>
            <!-- <option value="symbolDiamondSquare">&nbsp;&#9670; (Tilted Square)</option>
            <option value="symbolPentagon">&nbsp;&#11039; (Pentagon)</option> -->
            <option value="symbolHexagon">&nbsp;&#11042; (Hexagon)</option>
            <!-- <option value="symbolHexagonAlt">&nbsp;&#11043; (Tilted Hexagon)</option>
            <option value="symbolOctagon">&nbsp;&#11042; (Octagon)</option>
            <option value="symbolOctagonAlt">&nbsp;&#11043; (Tilted Octagon)</option>
            <option value="symbolCross">&nbsp;&#10010; (Addition Sign)</option>
            <option value="symbolX">&nbsp;&#10006; (Multiplication Sign)</option>
            <option value="symbolWye">&nbsp;&#120300; (Wye)</option>
            <option value="symbolStar">&nbsp;&#9733; (Star)</option> -->
        </select>

    </p-dialog>

    <!-- <p-dialog id="polygon-color-table-wrapper" class="floater">
        <div id="polygon-color-table-draghandle"><span class="oi oi-move"></span></div>
        <table id="polygon-color-table"></table>
    </p-dialog> -->





<div id="node-symbol-table-context" class="dropdown-menu">
    <a href="#" id="node-symbol-table-move" class="dropdown-item">Pin</a>
    <a href="#" id="node-symbol-table-context-hide" class="dropdown-item">Hide</a>
    <a href="#" id="node-symbol-table-expand" class="dropdown-item">Expand</a>
    <a href="#" id="node-symbol-table-counts" class="dropdown-item">Toggle Counts</a>
    <a href="#" id="node-symbol-table-frequencies" class="dropdown-item">Toggle Frequencies</a>
</div>

  
  <div id="polygon-color-table-context" class="dropdown-menu">
    <a href="#" id="polygon-color-table-drag" class="dropdown-item">Drag/Arrow Keys</a>
    <a href="#" id="polygon-color-table-context-hide" class="dropdown-item">Hide</a>
    <a href="#" id="polygon-color-table-expand" class="dropdown-item">Expand</a>
    <a href="#" id="polygon-color-table-counts" class="dropdown-item">Toggle Counts</a>
    <a href="#" id="polygon-color-table-frequencies" class="dropdown-item">Toggle Frequencies</a>
  </div>

<div id="context-menu" class="dropdown-menu">
    <a href="javascript:;" id="pinNode" class="dropdown-item">Pin Node</a>
    <button id="copyID" class="dropdown-item" (click)="copyID()">Copy ID</button>
    <button id="copySeq" class="dropdown-item" (click)="copySeq()">Copy Sequence</button>
    <a href="javascript:;" id="viewAttributes" class="dropdown-item">View Attributes</a>
</div>


<p-dialog id="network-attribute-table-wrapper" [(visible)]="ShowNetworkAttributes" header="Node Attributes" [style]="{width: '35vw'}" >
    <div class="col-12" style="width:100%;">        
        <table id="network-attribute-table" style="width:100%">
            <tr *ngFor="let item of ContextSelectedNodeAttributes">
                <td>
                    <strong>
                        {{item.attribute}}
                    </strong>
                </td>
                <td>{{item.value}}</td>
            </tr>
        </table>
    </div>
</p-dialog>



<p-dialog
  *ngIf="viewActive"
  id="network-export-modal"
  [(visible)]="Show2DExportPane"
  header="Export Network Image"
  class="dialogSize"
  (onHide)="onCloseExport()"
  appendTo="body"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body" style="min-width: 400px; height: 100%;">
        <div class="form-group row">
          <div class="col-8">
            <input
              type="text"
              id="network-export-filename"
              class="form-control form-control-sm"
              placeholder="Filename"
              [(ngModel)]="SelectedNetworkExportFilenameVariable"
              (ngModelChange)="onDataChange($event)"
            />
          </div>
          <div class="col-4">
            <p-dropdown
              id="network-export-filetype"
              [options]="NetworkExportFileTypeList"
              [(ngModel)]="SelectedNetworkExportFileTypeListVariable"
              (ngModelChange)="onNetworkExportFiletypeChange($event)"
            ></p-dropdown>
          </div>
        </div>
        <div>
          <!-- Toggle Advanced Export Options -->
          <div [hidden]="SelectedNetworkExportFileTypeListVariable=='svg'">
            <p-accordion>
              <p-accordionTab style="color:#495057" header="Advanced">
                <div id="network-export-advanced">
                  <div class="form-group row">
                    <div class="col-3">
                      <label for="network-export-scale">Scale</label>
                    </div>
                    <div class="col-9">
                      <input
                        type="number"
                        id="network-export-scale"
                        class="form-control form-control-sm"
                        min="0"
                        max="2"
                        step="0.1"
                        [(ngModel)]="SelectedNetworkExportScaleVariable"
                        (ngModelChange)="updateCalculatedResolution()"
                      />
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col-3">Resolution</div>
                    <div id="network-export-dimensions" class="col-9 text-right">
                      {{ CalculatedResolution }}
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-3">
                      <label for="network-export-quality">Quality</label>
                    </div>
                    <div class="col-9">
                      <input
                        type="range"
                        class="custom-range"
                        id="network-export-quality"
                        min="0"
                        max="1.0"
                        step="0.01"
                        [(ngModel)]="SelectedNetworkExportQualityVariable"
                      />
                      <span>{{ SelectedNetworkExportQualityVariable }}</span>
                    </div>
                  </div>
                </div>
              </p-accordionTab>
            </p-accordion>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-error"
          (click)="Show2DExportPane = false"
        >
          Cancel
        </button>
        <button
          type="button"
          id="network-export"
          class="btn btn-primary"
          (click)="exportVisualization($event)"
        >
          Export
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</p-dialog>
